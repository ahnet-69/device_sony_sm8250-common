From 93be6b0b36fe4c4d6046691ece717931ea193f8d Mon Sep 17 00:00:00 2001
From: saku-bruh <saku-bruh@proton.me>
Date: Tue, 27 Aug 2024 15:47:22 +0000
Subject: [PATCH] SystemUI: Fix SB paddings

---
 packages/SystemUI/res/layout/keyguard_status_bar.xml       | 2 +-
 packages/SystemUI/res/layout/system_icons.xml              | 2 +-
 packages/SystemUI/res/values-sw600dp/dimens.xml            | 2 +-
 packages/SystemUI/res/values/dimens.xml                    | 2 +-
 .../src/com/android/systemui/statusbar/policy/Clock.java   | 7 -------
 5 files changed, 4 insertions(+), 11 deletions(-)

diff --git a/packages/SystemUI/res/layout/keyguard_status_bar.xml b/packages/SystemUI/res/layout/keyguard_status_bar.xml
index fc0bf242dc1e..ffbac66d4ba9 100644
--- a/packages/SystemUI/res/layout/keyguard_status_bar.xml
+++ b/packages/SystemUI/res/layout/keyguard_status_bar.xml
@@ -72,7 +72,7 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:paddingTop="@dimen/status_bar_padding_top"
-        android:layout_marginStart="@dimen/keyguard_carrier_text_margin"
+        android:paddingStart="@dimen/keyguard_carrier_text_margin"
         android:layout_toStartOf="@id/system_icons_container"
         android:gravity="center_vertical"
         android:ellipsize="marquee"
diff --git a/packages/SystemUI/res/layout/system_icons.xml b/packages/SystemUI/res/layout/system_icons.xml
index 6a14c213dc82..744e472cef81 100644
--- a/packages/SystemUI/res/layout/system_icons.xml
+++ b/packages/SystemUI/res/layout/system_icons.xml
@@ -23,7 +23,7 @@
     android:paddingTop="@dimen/status_bar_icons_padding_top"
     android:paddingStart="@dimen/status_bar_icons_padding_start"
     android:paddingEnd="@dimen/status_bar_icons_padding_end"
-    android:gravity="center_vertical">
+    android:gravity="center_vertical|end">
 
     <com.android.systemui.statusbar.phone.StatusIconContainer android:id="@+id/statusIcons"
         android:layout_width="0dp"
diff --git a/packages/SystemUI/res/values-sw600dp/dimens.xml b/packages/SystemUI/res/values-sw600dp/dimens.xml
index 915dcdb9755f..4aa57d8db835 100644
--- a/packages/SystemUI/res/values-sw600dp/dimens.xml
+++ b/packages/SystemUI/res/values-sw600dp/dimens.xml
@@ -38,7 +38,7 @@
     <dimen name="multi_user_avatar_keyguard_size">30dp</dimen>
 
     <!-- Margin on the left side of the carrier text on Keyguard -->
-    <dimen name="keyguard_carrier_text_margin">24dp</dimen>
+    <dimen name="keyguard_carrier_text_margin">14dp</dimen>
 
     <!-- Screen pinning request width -->
     <dimen name="screen_pinning_request_width">400dp</dimen>
diff --git a/packages/SystemUI/res/values/dimens.xml b/packages/SystemUI/res/values/dimens.xml
index 451cf3b54b5a..54e0fd9083b3 100644
--- a/packages/SystemUI/res/values/dimens.xml
+++ b/packages/SystemUI/res/values/dimens.xml
@@ -149,7 +149,7 @@
     <dimen name="status_bar_clock_size">14sp</dimen>
 
     <!-- The starting padding for the clock in the status bar. -->
-    <dimen name="status_bar_clock_starting_padding">7dp</dimen>
+    <dimen name="status_bar_clock_starting_padding">28dp</dimen>
 
     <!-- The end padding for the clock in the status bar. -->
     <dimen name="status_bar_clock_end_padding">0dp</dimen>
diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/Clock.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/Clock.java
index dcd9f497af60..b34fa34dfc71 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/policy/Clock.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/Clock.java
@@ -377,13 +377,6 @@ public class Clock extends TextView implements
         mCachedWidth = -1;
 
         FontSizeUtils.updateFontSize(this, R.dimen.status_bar_clock_size);
-        setPaddingRelative(
-                mContext.getResources().getDimensionPixelSize(
-                        R.dimen.status_bar_clock_starting_padding),
-                0,
-                mContext.getResources().getDimensionPixelSize(
-                        R.dimen.status_bar_clock_end_padding),
-                0);
 
         float fontHeight = getPaint().getFontMetricsInt(null);
         setLineHeight(TypedValue.COMPLEX_UNIT_PX, fontHeight);
-- 
2.34.1

